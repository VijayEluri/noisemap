<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Non-English Scenarios</title>

<style type="text/css" media="all">
@import url( "./style/jbehave.css" );
</style>

<script type="text/javascript" src="./js/mootools-1.2/mootools-core.js"></script>
<script type="text/javascript" src="./js/mootools-1.2/mootools-fx.js"></script>
<script type="text/javascript" src="./js/mootools-1.2/menu-fx.js"></script>
<style media="screen" type="text/css">
div.MGroupContent {
	display: none
}
</style>
<meta name="verify-v1"
	content="UsIBiaQhhmjFrBwcJ2n4XIvEImPNG4SMVP365rRcpxE=" />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
</head>

<body class="composite">
<div id="banner"><img src="images/jbehave-logo.png" alt="jbehave" />
<div class="clear"></div>
</div>

<div id="Menu">
<div class="MGroup MEntry"><a>About</a>
<div id="MGroupContent0" class="MGroupContent"
	style="display: block;"> <div class="MFile MEntry"><a href="index.html">What is JBehave?</a>
</div>
  <div class="MFile MEntry"><a href="getting-started.html">Getting Started</a>
</div>
  <div class="MFile MEntry"><a href="dependencies.html">Dependencies</a>
</div>
  <div class="MFile MEntry"><a href="faq.html">FAQs</a>
</div>
  <div class="MFile MEntry"><a href="license.html">License</a>
</div>
  <div class="MFile MEntry"><a href="download.html">Download</a>
</div>
  <div class="MFile MEntry"><a href="javadoc.html">Javadoc</a>
</div>
  <div class="MFile MEntry"><a href="release-notes.html">Release Notes</a>
</div>
  <div class="MFile MEntry"><a href="building-source.html">Building Source</a>
</div>
  <div class="MFile MEntry"><a href="running-examples.html">Running Examples</a>
</div>
 </div>
</div>

<div class="MGroup MEntry"><a>Fundamentals</a>
<div id="MGroupContent1" class="MGroupContent"
	style="display: block;"> <div class="MFile MEntry"><a href="concepts.html">BDD Concepts</a>
</div>
  <div class="MFile MEntry"><a href="grammar.html">Grammar</a>
</div>
  <div class="MFile MEntry"><a href="more-on-bdd.html">More on BDD</a>
</div>
 </div>
</div>

<div class="MGroup MEntry"><a>Scenarios</a>
<div id="MGroupContent2" class="MGroupContent"
	style="display: block;"> <div class="MFile MEntry"><a href="developing-scenarios.html">Developing Scenarios</a>
</div>
  <div class="MFile MEntry"><a href="annotations.html">Annotations</a>
</div>
  <div class="MFile MEntry"><a href="candidate-steps.html">Candidate Steps</a>
</div>
  <div class="MFile MEntry"><a href="pending-steps.html">Pending Steps</a>
</div>
  <div class="MFile MEntry"><a href="configuring-scenarios.html">Configuring Scenarios</a>
</div>
  <div class="MFile MEntry"><a href="running-scenarios.html">Running Scenarios</a>
</div>
  <div class="MFile MEntry"><a href="stepdocs.html">Stepdocs</a>
</div>
  <div class="MFile MEntry" id="MSelected">Non-English Scenarios</div>
 </div>
</div>

<div class="MGroup MEntry"><a>Advanced Topics</a>
<div id="MGroupContent3" class="MGroupContent"
	style="display: block;"> <div class="MFile MEntry"><a href="aliases.html">Aliases</a>
</div>
  <div class="MFile MEntry"><a href="dependency-injection.html">Dependency Injection</a>
</div>
  <div class="MFile MEntry"><a href="parameter-injection.html">Parameter Injection</a>
</div>
  <div class="MFile MEntry"><a href="parameter-converters.html">Parameter Converters</a>
</div>
  <div class="MFile MEntry"><a href="table-examples.html">Table Examples</a>
</div>
  <div class="MFile MEntry"><a href="table-parameters.html">Table Parameters</a>
</div>
  <div class="MFile MEntry"><a href="given-scenarios.html">Given Scenarios</a>
</div>
  <div class="MFile MEntry"><a href="reports.html">Reports</a>
</div>
 </div>
</div>

<div class="MGroup MEntry"><a>Project Info</a>
<div id="MGroupContent4" class="MGroupContent"
	style="display: block;"> <div class="MFile MEntry"><a href="mailing-lists.html">Mailing Lists</a>
</div>
  <div class="MFile MEntry"><a href="issue-tracking.html">Issue Tracking</a>
</div>
  <div class="MFile MEntry"><a href="team-list.html">Team list</a>
</div>
  <div class="MFile MEntry"><a href="source-repository.html">Source Repository</a>
</div>
 </div>
</div>

<script type="text/javascript"><!--
        google_ad_client = "pub-8973208330688044";
        google_ad_width = 125;
        google_ad_height = 125;
        google_ad_format = "125x125_as_rimg";
        google_cpa_choice = "CAAQ0f2XhAIaCA6IC4oIlz0_KK2293M";
        google_ad_channel = "";
      //--></script> <script type="text/javascript"
	src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
        //
      </script></div>

<div id="bodyColumn">
<div id="contentBox">
<div class="section">

<h2>Writing Scenarios in your language</h2>

<p>Good and effective communication is key to BDD. Therefore,
writing scenarios in the <a href="http://en.wikipedia.org/wiki/Language">language</a>
spoken by the business users is essential. And even though the patterns
used to match the scenario steps to Java methods can be written in any
language, the <a
    href="javadoc/core/org/jbehave/scenario/definition/KeyWords.html">KeyWords</a>
still need to be expressed in different languages.</p>

<p>JBehave by default supports English as the scenario language. By
supporting the internationalisation (i18n) of keywords by Java <a
    href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Locale.html">Locale</a>,
it also allows the scenarios to be written in any language. All is
needed to configure the use of <a
    href="javadoc/core/org/jbehave/scenario/i18n/I18nKeyWords.html">I18nKeyWords</a>
for a given Locale. Each locale has a separate keywords properties file.
E.g. for Italian locale, the file <b>keywords_it.properties</b> is:</p>
<pre class="brush: bdd">
Narrative=Narrativa:
InOrderTo=Per ottenere
AsA=Come
IWantTo=Voglio
Scenario=Scenario:
GivenScenarios=Dati gli scenari:
ExamplesTable=Esempi:
ExamplesTableRow=Esempio:
Given=Dato che
When=Quando
Then=Allora
And=E
Pending=PENDENTE
NotPerformed=NON ESEGUITO
Failed=FALLITO
</pre>
<p>We need to configure the use of the i18n-ed keywords in the <a
    href="javadoc/core/org/jbehave/scenario/JUnitScenario.html">JUnitScenario</a>,
e.g.:</p>
<pre class="brush: java">
public class ItTraderScenario extends JUnitScenario {

	public ItTraderScenario(final ClassLoader classLoader) {
		super(new PropertyBasedConfiguration() {
			@Override
			public ScenarioDefiner forDefiningScenarios() {
				// use underscored camel case scenario files with extension ".scenario"
				return new ClasspathScenarioDefiner(
						new UnderscoredCamelCaseResolver(".scenario"),
						new PatternScenarioParser(this), classLoader);
			}

			@Override
			public ScenarioReporter forReportingScenarios() {
				// report outcome in Italian (to System.out)
				return new PrintStreamScenarioReporter(keywordsFor(new Locale("it"), classLoader));
			}

			@Override
			public KeyWords keywords() {
				// use Italian for keywords
				return keywordsFor(new Locale("it"), classLoader);
			}

		}, new ItTraderSteps(classLoader));
	}

	protected static KeyWords keywordsFor(Locale locale, ClassLoader classLoader) {
		return new I18nKeyWords(locale, new StringEncoder(), "org/jbehave/examples/trader/i18n/keywords", classLoader);
	}

}
</pre>
<p>The corresponding i18n-ed <a
    href="javadoc/core/org/jbehave/scenario/steps/Steps.html">Steps</a>,
also requires the configuration of i18n-ed keywords:</p>

<pre class="brush: java">
public class ItTraderSteps extends Steps {

    private Stock stock;

    public ItTraderSteps(ClassLoader classLoader) {
    	// Use Italian for keywords
        super(new StepsConfiguration(keywordsFor(new Locale("it"), classLoader)));
    }

    @Given("ho un'azione con simbolo $symbol e una soglia di $threshold")
    public void aStock(@Named("symbol") String symbol, @Named("threshold") double threshold) {
        stock = new Stock(symbol, threshold);
    }

    @When("l'azione e' scambiata al prezzo di $price")
    public void stockIsTraded(@Named("price") double price) {
        stock.tradeAt(price);
    }

    @Then("lo status di allerta e' $status")
    public void alertStatusIs(@Named("status") String status) {
        ensureThat(stock.getStatus().name(), equalTo(status));
    }

	protected static KeyWords keywordsFor(Locale locale, ClassLoader classLoader) {
		return new I18nKeyWords(locale, new StringEncoder(), "org/jbehave/examples/trader/i18n/keywords", classLoader);
	}

}
</pre>
<p>Note that the i18n-ed keywords not only allow the translation of
the keywords used in parsing the textual scenario, but also the keywords
used in the reporting of the scenario execution, e.g. <b>Pending</b>, <b>NotPerformed</b>
and <b>Failed</b>.</p>

<p>Also note that the i18n-ed scenario classes require the class loader to be injected via constructor if 
running via command-line (see <a href="running-scenarios.html">running scenarios</a>).</p>

<h2>Why are different languages not supported out-of-the-box?</h2>

<p>Most non-English languages require characters that are rendered
inconsistently using the native encoding of a given operating system. We
are working on a consistent solution that is re-usable across multiple
platforms.</p>

<div class="clear">
<hr />
</div>

 <br />
<br />
</div>
</div>
</div>
<div class="clear"></div>
<div id="footer">
<div class="left">Version 2.5.9 published on 07/06/2010</div>
<div class="right">&#169; 2003-2010</div>
<div class="clear"></div>
</div>

</body>

<script src="http://www.google-analytics.com/urchin.js"
	type="text/javascript"></script>
<script type="text/javascript">
  _uacct = "UA-759606-2";
  urchinTracker();
</script>

<!--  SyntaxHighlighter resources:  should be included at end of body -->
<link rel="stylesheet" type="text/css" href="./style/sh-2.1.364/shCore.css"/>
<link rel="stylesheet" type="text/css" href="./style/sh-2.1.364/shThemeRDark.css"/>
<script language="javascript" src="./js/sh-2.1.364/shCore.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushBash.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushCss.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushDiff.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushGroovy.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushJava.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushJScript.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushPlain.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushPython.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushRuby.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushScala.js"></script>
<script language="javascript" src="./js/sh-2.1.364/shBrushXml.js"></script>
<script language="javascript" src="./js/shBrushBdd.js"></script>
<script type="text/javascript">
	SyntaxHighlighter.config.clipboardSwf = './js/sh-2.1.364/clipboard.swf';
    SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['toolbar'] = true;    
	SyntaxHighlighter.all();
</script>

</html>
