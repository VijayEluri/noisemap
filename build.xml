<?xml version="1.0" encoding="UTF-8"?>
<project name="noisemap" default="default" basedir=".">
    <description>Builds, tests, and runs the project noisemap.</description>
    <!-- 
    For deployment, not for local execution:
    Make sure you add the url at netbeans->properties->Web Start
    and remove the Jsyn from master-application.jnlp as we embedded it
    in the same jar in order to sign it
    -->
    <import file="nbproject/build-impl.xml"/>
    <target name="generate-html-preview">  <!-- -post-jar didn't work :p --> 
        <copy todir="../site">
            <fileset file="dist/noisemap.jar"/>                         <!-- signed version -->
            <fileset file="dist/launch.jnlp"/>                      <!-- generated from master-application.jnlp-->
        </copy>
        <echo message="Copied dist folder files to site folder. Dropbox syncs it with my workstation at craft where WinSCP syncs it with craftsrv5. This way i can update the site from my PC and from shiftedit.net/home But sometimes WinSCP needs to be turned off and dropbox to be restarted. "/>
    </target>
    <target name="-pre-jar">
        <unzip src="lib/jsyn-beta-16.4.4.jar" dest="build/classes">
            <patternset>
                <include name="**/*.class"/>
                <exclude name="META-INF*"/>
            </patternset>
        </unzip>    
    </target>
    <!--
      -pre-init:                 called before initialization of project properties
      -post-init:                called after initialization of project properties
      -pre-compile:              called before javac compilation
      -post-compile:             called after javac compilation
      -pre-compile-single:       called before javac compilation of single file
      -post-compile-single:      called after javac compilation of single file
      -pre-compile-test:         called before javac compilation of JUnit tests
      -post-compile-test:        called after javac compilation of JUnit tests
      -pre-compile-test-single:  called before javac compilation of single JUnit test
      -post-compile-test-single: called after javac compilation of single JUunit test
      -pre-jar:                  called before JAR building
      -post-jar:                 called after JAR building
      -post-clean:               called after cleaning build products
    (Targets beginning with '-' are not intended to be called on their own.)
    For list of available properties check the imported 
    nbproject/build-impl.xml file. 
    Another way to customize the build is by overriding existing main targets.
    The targets of interest are: 
      -init-macrodef-javac:     defines macro for javac compilation
      -init-macrodef-junit:     defines macro for junit execution
      -init-macrodef-debug:     defines macro for class debugging
      -init-macrodef-java:      defines macro for class execution
      -do-jar-with-manifest:    JAR building (if you are using a manifest)
      -do-jar-without-manifest: JAR building (if you are not using a manifest)
      run:                      execution of project 
      -javadoc-build:           Javadoc generation
      test-report:              JUnit report generation
    -->
</project>
